<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-devel] Workaround for unavoidable SSL CommonName mismatch?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-devel/2006-April/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20Workaround%20for%20unavoidable%20SSL%20CommonName%20mismatch%3F&In-Reply-To=%3Cm31wvnw33k.fsf%40merlin.emma.line.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000727.html">
   <LINK REL="Next"  HREF="000731.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-devel] Workaround for unavoidable SSL CommonName mismatch?</H1>
    <B>Matthias Andree</B> 
    <A HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20Workaround%20for%20unavoidable%20SSL%20CommonName%20mismatch%3F&In-Reply-To=%3Cm31wvnw33k.fsf%40merlin.emma.line.org%3E"
       TITLE="[fetchmail-devel] Workaround for unavoidable SSL CommonName mismatch?">matthias.andree at gmx.de
       </A><BR>
    <I>Mon Apr 24 14:49:19 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000727.html">[fetchmail-devel] Workaround for unavoidable SSL CommonName mismatch?
</A></li>
        <LI>Next message: <A HREF="000731.html">[fetchmail-devel] Workaround for unavoidable SSL CommonName mismatch?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#728">[ date ]</a>
              <a href="thread.html#728">[ thread ]</a>
              <a href="subject.html#728">[ subject ]</a>
              <a href="author.html#728">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Daniel Richard G.&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">skunk at iSKUNK.ORG</A>&gt; writes:

&gt;<i> On Sun, 2006 Apr 23 22:16:07 +0200, Matthias Andree wrote:
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Well, fetchmail is in fact talking to mail.mydomain.com, so allowing
</I>&gt;&gt;<i> certificates for other domains on the server wouldn't be the right thing
</I>&gt;&gt;<i> to do.
</I>&gt;<i>
</I>&gt;<i> There is no way for mail.mydomain.com to have an SSL certificate with 
</I>&gt;<i> CN=mail.mydomain.com. Not unless I shell out for a dedicated IP address. 
</I>&gt;<i> Alternate names are not a solution either, unless one wants to download a 
</I>&gt;<i> certificate with 100000+ alternates :]
</I>
Well...

&gt;<i> I agree that webhost.com did a lousy job of setting up their SSL mail 
</I>&gt;<i> services, but given that that's the current, unlikely-to-change-in-the- 
</I>&gt;<i> near-future reality, the issue becomes fetchmail's flexibility in handling 
</I>&gt;<i> a less-than-ideal server situation.
</I>
I'll ponder this a bit, and see if &quot;aka&quot; or &quot;via&quot; should be overloaded
or a new option be introduced. I usually prefer separate options because
sooner or later someone will find a use case where overloading a token
restricts flexibility again and the initial enthusiasum for saving yet
another token turns into frustration because existing documentation,
practice and configuration locks the software in to its former way of
overloading the token for quite a while.

Currently the expected name is the &quot;via&quot; name if given, otherwise the
poll name.

&gt;&gt;<i> You can however obtain the server's certificate fingerprint (run
</I>&gt;&gt;<i> fetchmail with -v (in verbose mode)) and then use the sslfingerprint
</I>&gt;&gt;<i> option to suppress the warning. Fetchmail will then abort the connection
</I>&gt;&gt;<i> if the fingerprint does not match.
</I>&gt;<i>
</I>&gt;<i> That's what I'm doing for now, but I still get the &quot;CommonName mismatch&quot; 
</I>&gt;<i> warnings. (Twice for every connection, in fact.) I want to get rid of 
</I>&gt;<i> those, and I'd still like to be able to do full certificate checking 
</I>&gt;<i> (modulo the specifically-configured exception for the CN).
</I>
Which indicates that you are running a version before 6.3.4. This
version fixed this particular issue (well, as long as &quot;sslcertck&quot; isn't
enabled, which would deliberately turn the CN mismatch into a fatal
socket errors anyways).

-- 
Matthias Andree

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000727.html">[fetchmail-devel] Workaround for unavoidable SSL CommonName mismatch?
</A></li>
	<LI>Next message: <A HREF="000731.html">[fetchmail-devel] Workaround for unavoidable SSL CommonName mismatch?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#728">[ date ]</a>
              <a href="thread.html#728">[ thread ]</a>
              <a href="subject.html#728">[ subject ]</a>
              <a href="author.html#728">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">More information about the fetchmail-devel
mailing list</a><br>
</body></html>
