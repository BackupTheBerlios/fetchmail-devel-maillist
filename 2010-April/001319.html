<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-devel] [Bug #16172] Fetchmail eats mail when unable to	connect to SMTP
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-devel/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20%5BBug%20%2316172%5D%20Fetchmail%20eats%20mail%20when%20unable%20to%0A%09connect%20to%20SMTP&In-Reply-To=%3C201004090751.o397p9Gp024048%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001318.html">
   <LINK REL="Next"  HREF="001320.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-devel] [Bug #16172] Fetchmail eats mail when unable to	connect to SMTP</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20%5BBug%20%2316172%5D%20Fetchmail%20eats%20mail%20when%20unable%20to%0A%09connect%20to%20SMTP&In-Reply-To=%3C201004090751.o397p9Gp024048%40unicorn.berlios.de%3E"
       TITLE="[fetchmail-devel] [Bug #16172] Fetchmail eats mail when unable to	connect to SMTP">admin at berlios.de
       </A><BR>
    <I>Fri Apr  9 09:51:09 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001318.html">[fetchmail-devel] [Bug #16000] fetchmail should support multiple	sslfingerprints
</A></li>
        <LI>Next message: <A HREF="001320.html">[fetchmail-devel] [Bug #16134] Incorrect library check in configure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1319">[ date ]</a>
              <a href="thread.html#1319">[ thread ]</a>
              <a href="subject.html#1319">[ subject ]</a>
              <a href="author.html#1319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #16172, was updated on 2009-Aug-24 10:38
Here is a current snapshot of the bug.

Project: fetchmail
Category: None
Status: Open
Resolution: Works For Me
Bug Group: None
Priority: 7
Submitted by: bennovdbogaard
Assigned to : m-a
Summary: Fetchmail eats mail when unable to connect to SMTP

Details: Hello everyone,

I use fetchmail in various production environments and I discovered some unwanted behaviour.

After fetchmail fetches mail from a pop mail server it removes messages after they are retrieved. But if the SMTP to deliver these messages to isn't available, it drops the messages and gives up instantly.

Could this behaviour be altered by first checking if the SMTP server is reachable and then decide to fetch the messages?

Yours,
Benno van den Bogaard &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">benno at hoeg.nl</A>&gt;

Follow-Ups:

Date: 2010-Apr-09 09:51
By: m-a

Comment:
Benno,

can I _please_ get a verbose trace showing the message loss? Thank you.
-------------------------------------------------------

Date: 2009-Aug-24 14:05
By: m-a

Comment:
Please prove through complete logs that fetchmail 6.3.10 or 6.3.11 loses mail and to show it's not a server fault (some servers are known to delete mail after retrieval even if the client hasn't requested deletion; also, some may make deletes effective before QUIT).

See <A HREF="http://www.fetchmail.info/fetchmail-FAQ.html#G3">http://www.fetchmail.info/fetchmail-FAQ.html#G3</A> for a list of pieces of information that we need to debug the issue.

Fetchmail has been designed to NOT delete messages from the server before it has successfully delivered them.

-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=16172&amp;group_id=1824">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=16172&amp;group_id=1824</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001318.html">[fetchmail-devel] [Bug #16000] fetchmail should support multiple	sslfingerprints
</A></li>
	<LI>Next message: <A HREF="001320.html">[fetchmail-devel] [Bug #16134] Incorrect library check in configure
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1319">[ date ]</a>
              <a href="thread.html#1319">[ thread ]</a>
              <a href="subject.html#1319">[ subject ]</a>
              <a href="author.html#1319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">More information about the fetchmail-devel
mailing list</a><br>
</body></html>
