<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-devel] fetchmail 6.3.15-beta1 beta release with	&quot;bad-header pass&quot; feature
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-devel/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20fetchmail%206.3.15-beta1%20beta%20release%0A%20with%09%22bad-header%20pass%22%20feature&In-Reply-To=%3C4B8635C9.6050804%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001254.html">
   <LINK REL="Next"  HREF="001258.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-devel] fetchmail 6.3.15-beta1 beta release with	&quot;bad-header pass&quot; feature</H1>
    <B>Matthias Andree</B> 
    <A HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20fetchmail%206.3.15-beta1%20beta%20release%0A%20with%09%22bad-header%20pass%22%20feature&In-Reply-To=%3C4B8635C9.6050804%40gmx.de%3E"
       TITLE="[fetchmail-devel] fetchmail 6.3.15-beta1 beta release with	&quot;bad-header pass&quot; feature">matthias.andree at gmx.de
       </A><BR>
    <I>Thu Feb 25 09:33:13 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001254.html">[fetchmail-devel] fetchmail 6.3.15-beta1 beta release with	&quot;bad-header pass&quot; feature
</A></li>
        <LI>Next message: <A HREF="001258.html">[fetchmail-devel] fetchmail 6.3.15-beta1 beta release with &quot;bad-header pass&quot; feature
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1257">[ date ]</a>
              <a href="thread.html#1257">[ thread ]</a>
              <a href="subject.html#1257">[ subject ]</a>
              <a href="author.html#1257">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 25.02.2010 08:14, schrieb Fr&#233;d&#233;ric Marchal:
&gt;<i> On Wednesday 24 February 2010, Matthias Andree wrote:
</I>&gt;&gt;<i> Am 24.02.2010 13:08, schrieb Fr&#233;d&#233;ric Marchal:
</I>&gt;&gt;<i> &gt; The localdomains option cannot be shortened as local as specified in the
</I>&gt;&gt;<i> &gt; man page (that may not be new, I'm coming from 6.3.9).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> That's a good catch. The abbreviated form has never worked - according to
</I>&gt;&gt;<i> &quot;git annotate&quot;, it was already broken when it was added by ESR on
</I>&gt;&gt;<i> 1997-01-09, however the fix is simple: change &quot;local(domains)&quot; in
</I>&gt;&gt;<i> rcfile_l.l to &quot;local(domains)?&quot; and recompile. You need flex installed.
</I>&gt;<i> 
</I>&gt;<i> I was using the short form with fetchmail 6.3.9. So, it was either not 
</I>&gt;<i> complaining about the invalid option or it was working. I tend to believe it 
</I>&gt;<i> is the latter as our mails were processed as expected and we had problems 
</I>&gt;<i> before that option was added.
</I>
I think the parser misunderstood your rcfile, so it wouldn't complain.

If there was another list (such as aka) prior to the local option, that list
would have had two more tokens, namely the word &quot;local&quot; and the domain -- and
that may have been sufficient to set delivery apparently straight (while
fetchmail would have mapped multidrop users, which localdomains is actually
supposed to suppress).

&gt;<i> On the other hand, I don' t see any change in the source code between versions 
</I>&gt;<i> 6.3.8 and 6.3.15 that could explain why the option ceased to work or why it 
</I>&gt;<i> would start complaining...
</I>
And I don't see how it could have worked as advertised. The lexer used to emits
a LOCALDOMAINS token only on &quot;localdomains&quot;, but not on &quot;local&quot;. I guess it
would have returned local as a STRING, and then the domain also as a STRING.

HTH

-- 
Matthias Andree

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001254.html">[fetchmail-devel] fetchmail 6.3.15-beta1 beta release with	&quot;bad-header pass&quot; feature
</A></li>
	<LI>Next message: <A HREF="001258.html">[fetchmail-devel] fetchmail 6.3.15-beta1 beta release with &quot;bad-header pass&quot; feature
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1257">[ date ]</a>
              <a href="thread.html#1257">[ thread ]</a>
              <a href="subject.html#1257">[ subject ]</a>
              <a href="author.html#1257">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">More information about the fetchmail-devel
mailing list</a><br>
</body></html>
