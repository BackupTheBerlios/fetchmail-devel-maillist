<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-devel] Re: deleting oversized messages
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-devel/2005-August/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20Re%3A%20deleting%20oversized%20messages&In-Reply-To=%3C20050829103258.GA3459%40session.bombay.retortsoft.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000433.html">
   <LINK REL="Next"  HREF="000436.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-devel] Re: deleting oversized messages</H1>
    <B>Sunil Shetye</B> 
    <A HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20Re%3A%20deleting%20oversized%20messages&In-Reply-To=%3C20050829103258.GA3459%40session.bombay.retortsoft.com%3E"
       TITLE="[fetchmail-devel] Re: deleting oversized messages">shetye at bombay.retortsoft.com
       </A><BR>
    <I>Mon Aug 29 12:32:58 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000433.html">[fetchmail-devel] Fetchmail From space or not?
</A></li>
        <LI>Next message: <A HREF="000436.html">[fetchmail-devel] Re: deleting oversized messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#435">[ date ]</a>
              <a href="thread.html#435">[ thread ]</a>
              <a href="subject.html#435">[ subject ]</a>
              <a href="author.html#435">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Quoting from Matthias Andree's mail on Sun, Aug 21, 2005 at 11:12:45PM +0200:
&gt;<i> Rob MacGregor &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">rob.macgregor at gmail.com</A>&gt; writes:
</I>&gt;<i> 
</I>&gt;<i> &gt; On 21/08/05, David Laight &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">david-fetchmail at l8s.co.uk</A>&gt; wrote:
</I>&gt;<i> &gt;&gt; 
</I>&gt;<i> &gt;&gt; But, IIRC, the code got broken at some point.
</I>&gt;<i> &gt;&gt; ISTR patching my local copy.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Then report the bug to the fetchmail-devel list, detailing what you
</I>&gt;<i> &gt; believe is broken.
</I>&gt;<i> 
</I>&gt;<i> No need, I found a similar report (IIRC in bugs.debian.org) and
</I>&gt;<i> investigated. The upcoming fetchmail release and IIRC the latest -pre
</I>&gt;<i> release from BerliOS.de also will delete oversized messages if NOT run
</I>&gt;<i> in daemon mode - be sure to use the --flush option.
</I>
The 'flush' option is very dangerous as it can even delete mails which
have been read by another email client. In particular, if one has the
habit of checking a remote mailbox through an interactive email
client, new mails can get marked as read. Then, when fetchmail polls
that mailbox, it will think that those mails have already been
downloaded and just delete those mails due to the 'flush' option.

Here, I am assuming a setup like:

poll server
    protocol imap	# or &quot;pop3 no uidl&quot;
    fetchall
    limit 1000000
    flush		# this has been put to delete oversized only

Without the 'flush' option, mails which are read through another email
client also get downloaded without problems. With the 'flush' option,
such apparently read mails get deleted.

I had created a patch which adds another option to fetchmail. The old
patch (against 6.2.4) along with some discussion can be found at:

&lt;<A HREF="http://lists.ccil.org/pipermail/fetchmail-friends/2003-October/008017.html">http://lists.ccil.org/pipermail/fetchmail-friends/2003-October/008017.html</A>&gt;.

Eric was against adding new options, hence that patch was not accepted
then. If the idea of the above patch is acceptable, I can recreate it
for the latest fetchmail. In any case, it would be better if the
'flush' option is not overloaded to delete oversized mails.

-- 
Sunil Shetye.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000433.html">[fetchmail-devel] Fetchmail From space or not?
</A></li>
	<LI>Next message: <A HREF="000436.html">[fetchmail-devel] Re: deleting oversized messages
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#435">[ date ]</a>
              <a href="thread.html#435">[ thread ]</a>
              <a href="subject.html#435">[ subject ]</a>
              <a href="author.html#435">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">More information about the fetchmail-devel
mailing list</a><br>
</body></html>
