<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-devel] stops to download mails with underscore
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-devel/2005-July/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20stops%20to%20download%20mails%20with%20underscore&In-Reply-To=%3Cm3d5pjn36j.fsf%40merlin.emma.line.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000369.html">
   <LINK REL="Next"  HREF="000371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-devel] stops to download mails with underscore</H1>
    <B>Matthias Andree</B> 
    <A HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20stops%20to%20download%20mails%20with%20underscore&In-Reply-To=%3Cm3d5pjn36j.fsf%40merlin.emma.line.org%3E"
       TITLE="[fetchmail-devel] stops to download mails with underscore">matthias.andree at gmx.de
       </A><BR>
    <I>Fri Jul 15 23:56:52 CEST 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000369.html">[fetchmail-devel] stops to download mails with underscore
</A></li>
        <LI>Next message: <A HREF="000371.html">[fetchmail-devel] stops to download mails with underscore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#372">[ date ]</a>
              <a href="thread.html#372">[ thread ]</a>
              <a href="subject.html#372">[ subject ]</a>
              <a href="author.html#372">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Brian Candler &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">B.Candler at pobox.com</A>&gt; writes:

&gt;<i> On Thu, Jul 14, 2005 at 01:12:04PM -0700, perry hutchison wrote:
</I>&gt;&gt;<i> &gt; &gt; I think the problem is not that the local smtp server is
</I>&gt;&gt;<i> &gt; &gt; rejecting the mail with a 501 response (which it is entitled
</I>&gt;&gt;<i> &gt; &gt; to do, for any policy reason); the problem is that the SMTP
</I>&gt;&gt;<i> &gt; &gt; conversation is getting stuck at this point.  Fetchmail ought
</I>&gt;&gt;<i> &gt; &gt; to be able to recover from this situation.
</I>&gt;&gt;<i> &gt;
</I>&gt;&gt;<i> &gt; That I'd have to agree with.  Personally I'd like the option to
</I>&gt;&gt;<i> &gt; either delete or skip any emails that are &quot;broken&quot; (with the
</I>&gt;&gt;<i> &gt; default being skip) and can't be downloaded.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> If it really can't be downloaded, I suppose those are the only
</I>&gt;&gt;<i> choices
</I>&gt;<i>
</I>&gt;<i> The third obvious choice is to bounce the mail (the same as would happen if
</I>&gt;<i> the original sender made a direct SMTP connection to the local SMTP server
</I>&gt;<i> to deliver that message, rather than going via a POP3 mailbox)
</I>
If the SMTP server doesn't accept underscores in the sender domain, why
would it accept underscores in the recipient domain? We cannot possibly
bounce this, this is one of the messages that we cannot possibly make
progress on. We might of course nuke the envelope return path and pass
this on nonetheless, but it's not replyable anyhow.

Forwarding as RFC-822 encapsulated message to the local postmaster might
work, but is not for 6.3.0 unless it's a minor issue - &quot;set no
spambounce&quot; might help with forwarding the &quot;stuck&quot; mail to the
postmaster, I'm not sure about that.

&gt;<i> I don't see any point in trying to make an invalid mail into some
</I>&gt;<i> pseudo-valid form for delivery to a postmaster. Why should fetchmail's
</I>&gt;<i> policy take precedence over the local SMTP server's policy?
</I>&gt;<i>
</I>&gt;<i> By all means have a 'test' mode which never deletes mail. Once users are
</I>&gt;<i> happy that everything is OK, then do whatever the SMTP server says.
</I>&gt;<i>
</I>&gt;<i> Having said that, generating bounces to forged return addresses is
</I>&gt;<i> considered somewhat impolite these days.
</I>
Indeed it is - but that is something 

-- 
Matthias Andree

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000369.html">[fetchmail-devel] stops to download mails with underscore
</A></li>
	<LI>Next message: <A HREF="000371.html">[fetchmail-devel] stops to download mails with underscore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#372">[ date ]</a>
              <a href="thread.html#372">[ thread ]</a>
              <a href="subject.html#372">[ subject ]</a>
              <a href="author.html#372">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">More information about the fetchmail-devel
mailing list</a><br>
</body></html>
