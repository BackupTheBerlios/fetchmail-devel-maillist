<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-devel] [Bug #17272] Fetchmail does not fetch some Web.DE	mails
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-devel/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20%5BBug%20%2317272%5D%20Fetchmail%20does%20not%20fetch%20some%20Web.DE%0A%09mails&In-Reply-To=%3C201006172021.o5HKLcYk015062%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001393.html">
   <LINK REL="Next"  HREF="001395.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-devel] [Bug #17272] Fetchmail does not fetch some Web.DE	mails</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20%5BBug%20%2317272%5D%20Fetchmail%20does%20not%20fetch%20some%20Web.DE%0A%09mails&In-Reply-To=%3C201006172021.o5HKLcYk015062%40unicorn.berlios.de%3E"
       TITLE="[fetchmail-devel] [Bug #17272] Fetchmail does not fetch some Web.DE	mails">admin at berlios.de
       </A><BR>
    <I>Thu Jun 17 22:21:38 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001393.html">[fetchmail-devel] [Bug #17272] Fetchmail does not fetch some Web.DE	mails
</A></li>
        <LI>Next message: <A HREF="001395.html">[fetchmail-devel] [Bug #17272] Fetchmail does not fetch some Web.DE	mails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1394">[ date ]</a>
              <a href="thread.html#1394">[ thread ]</a>
              <a href="subject.html#1394">[ subject ]</a>
              <a href="author.html#1394">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #17272, was updated on 2010-Jun-17 04:17
Here is a current snapshot of the bug.

Project: fetchmail
Category: None
Status: Open
Resolution: None
Bug Group: None
Priority: 3
Submitted by: bjoernv
Assigned to : m-a
Summary: Fetchmail does not fetch some Web.DE mails

Details: Fetchmail is not able to fetch some automatically generated Web.DE mails.

Especially the so called &quot;POP3 Reports&quot; could not be fetched. These mails where generated by the German Freemail provider Web.DE if the user has some suspect mails in his folders which where not delivered by POP3. 

After some debugging I found, that these mails contain a header with some small problems. First the line &quot;This is a multi-part message in MIME format.&quot; is part of the header. Second the header and the body is not divided by a single new line, but by a Space character followed by a new line. 

Fetchmails output and a Sample mail is appended. 

The problem was tested with Fetchmail 6.3.11 from openSUSE 11.2 and with the current GIT version.

The mails from Web.DE are badly formatted. Anyway I think, that Fetchmail should be more tolerant with these mails. Normal MUAs like Seamonkey and Thunderbird can deal with the Web.DE mails. 

Follow-Ups:

Date: 2010-Jun-17 12:21
By: bjoernv

Comment:
Using &quot;--bad-header accept&quot; helps to solve the issue with Web.DE. Fetchmail corrects the incorrect header with this option (Fetchmail inserts a newline before &quot;This is a multi-part message in MIME format.&quot;).

So the problem is solved for me. But may be, it's a good idea to add a hint after the error messages like

&quot;reading message <A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">XXXXX at pop3.web.de</A>:3 of 8 (10352 octets) fetchmail: incorrect header line found while scanning headers&quot;

Something link (&quot;(try --bad-header accept)&quot;) would be helpful.

-------------------------------------------------------

Date: 2010-Jun-17 11:01
By: m-a

Comment:
Please 
- complain to web.de to have them generate their messages in proper format
- concurrently retest with fetchmail 6.3.17 and use &quot;--bad-header accept&quot; as command line option and follow up to report if this works.
-------------------------------------------------------

Date: 2010-Jun-17 04:51
By: bjoernv

Comment:
Couldn't I attach files here?

The sample Web.DE &quot;POP3 Report&quot; can be found here. If your browser shows extra newlines please download the file and open it with an good editor. The extra newlines are could be some &quot;CR&quot; characters:

<A HREF="http://user.cs.tu-berlin.de/~bjoern/fetchmail/fetchmail-web.de-message.log.txt">http://user.cs.tu-berlin.de/~bjoern/fetchmail/fetchmail-web.de-message.log.txt</A>

The sample Fetchmail log (from Fetchmail Git-Master on 2010-06-17) is here:

<A HREF="http://user.cs.tu-berlin.de/~bjoern/fetchmail/fetchmail-git-master-web.de.log.txt">http://user.cs.tu-berlin.de/~bjoern/fetchmail/fetchmail-git-master-web.de.log.txt</A>
-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=17272&amp;group_id=1824">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=17272&amp;group_id=1824</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001393.html">[fetchmail-devel] [Bug #17272] Fetchmail does not fetch some Web.DE	mails
</A></li>
	<LI>Next message: <A HREF="001395.html">[fetchmail-devel] [Bug #17272] Fetchmail does not fetch some Web.DE	mails
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1394">[ date ]</a>
              <a href="thread.html#1394">[ thread ]</a>
              <a href="subject.html#1394">[ subject ]</a>
              <a href="author.html#1394">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">More information about the fetchmail-devel
mailing list</a><br>
</body></html>
