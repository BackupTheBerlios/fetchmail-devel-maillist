<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-devel] save_str problems.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-devel/2010-May/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20save_str%20problems.&In-Reply-To=%3C4BDF60AF.5020306%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001355.html">
   <LINK REL="Next"  HREF="001361.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-devel] save_str problems.</H1>
    <B>Matthias Andree</B> 
    <A HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20save_str%20problems.&In-Reply-To=%3C4BDF60AF.5020306%40gmx.de%3E"
       TITLE="[fetchmail-devel] save_str problems.">matthias.andree at gmx.de
       </A><BR>
    <I>Tue May  4 01:47:59 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001355.html">[fetchmail-devel] save_str problems.
</A></li>
        <LI>Next message: <A HREF="001361.html">[fetchmail-devel] save_str problems.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1356">[ date ]</a>
              <a href="thread.html#1356">[ thread ]</a>
              <a href="subject.html#1356">[ subject ]</a>
              <a href="author.html#1356">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 03.05.2010 14:33, schrieb Rainer Weikusat:
&gt;<i> Sunil Shetye &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">shetye at bombay.retortsoft.com</A>&gt; writes:
</I>&gt;&gt;<i> Quoting from Rainer Weikusat's mail on Mon, May 03, 2010:
</I>&gt;&gt;&gt;&gt;<i> Matthias, you have said that the regular uidl code is faster than the
</I>&gt;&gt;&gt;&gt;<i> fastuidl code for 10000 uids. Do you mean while processing 10000 uids
</I>&gt;&gt;&gt;&gt;<i> on the fetchmail side or while getting 10000 uids from the server?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> The fastuidl code downloads less UIDs from the server and hence has to
</I>&gt;&gt;&gt;&gt;<i> compare less UIDs to check for new mail. If there are very few new
</I>&gt;&gt;&gt;&gt;<i> mails, then the fastuidl code is expected to save a lot on the string
</I>&gt;&gt;&gt;&gt;<i> comparisons.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> It is conceivable that the string comparisons take less wallclock
</I>&gt;&gt;&gt;<i> time than repeatedly asking a server for an UID and waiting for the
</I>&gt;&gt;&gt;<i> replies does. IMHO, this is still a bad tradeoff because 'e-mail
</I>&gt;&gt;&gt;<i> download' is a background batch job and even on a single-user
</I>&gt;&gt;&gt;<i> workstation, minizing e-mail download time at the expense of directing
</I>&gt;&gt;&gt;<i> more resources away from the interactive jobs the user interacts with
</I>&gt;&gt;&gt;<i> doesn't really make sense except if one is using a uplink whose cost
</I>&gt;&gt;&gt;<i> is proportional to the time spent 'online'.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As Matthias has already said, the better solution is to use the
</I>&gt;&gt;<i> appropriate data structures like trees or hashes or vectors in order
</I>&gt;&gt;<i> to cut down both searches and modifications.
</I>&gt;<i> 
</I>&gt;<i> Sorry, but you are seriously lost in space here. I have no idea which
</I>&gt;<i> thought could have motivated you to reply with this to my attempt at
</I>&gt;<i> an explanation of the 'faster with 10000 UIDs' statement.
</I>
Guys, I was making that confusing statement, and it referred only to the
network and wallclock consideration, assumed networks with big
bandwidth-delay product, and it also pretended that someone had already
fixed the complexity of the UID handling (which hasn't happened to the
best of my knowledge; I have started hacking a bit on it, but not sure
if I'll make it, or drop it and leave it for a later release using C++,
if it turns out it's too much of a hassle to do in C).

fastuidl will reduce the network traffic considerably, and will also
save time on low-latency links.

Whether we do fastuidl or not, for any nontrivial amounts of messages
kept on the server for POP3, we need to fix the code to get rid of the
O(n^2) complexity.

-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 196 bytes
Desc: OpenPGP digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/fetchmail-devel/attachments/20100504/f7d02332/attachment.pgp">https://lists.berlios.de/pipermail/fetchmail-devel/attachments/20100504/f7d02332/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001355.html">[fetchmail-devel] save_str problems.
</A></li>
	<LI>Next message: <A HREF="001361.html">[fetchmail-devel] save_str problems.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1356">[ date ]</a>
              <a href="thread.html#1356">[ thread ]</a>
              <a href="subject.html#1356">[ subject ]</a>
              <a href="author.html#1356">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">More information about the fetchmail-devel
mailing list</a><br>
</body></html>
