<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [fetchmail-devel] [PATCH] imap: introduce imapsearchmax	parameter
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/fetchmail-devel/2011-May/index.html" >
   <LINK REL="made" HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20%5BPATCH%5D%20imap%3A%20introduce%20imapsearchmax%0A%09parameter&In-Reply-To=%3C658435.51471.qm%40web95706.mail.in.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001479.html">
   <LINK REL="Next"  HREF="001481.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[fetchmail-devel] [PATCH] imap: introduce imapsearchmax	parameter</H1>
    <B>Sunil Shetye</B> 
    <A HREF="mailto:fetchmail-devel%40lists.berlios.de?Subject=Re%3A%20%5Bfetchmail-devel%5D%20%5BPATCH%5D%20imap%3A%20introduce%20imapsearchmax%0A%09parameter&In-Reply-To=%3C658435.51471.qm%40web95706.mail.in.yahoo.com%3E"
       TITLE="[fetchmail-devel] [PATCH] imap: introduce imapsearchmax	parameter">sunilshetye at rocketmail.com
       </A><BR>
    <I>Tue May  3 06:05:24 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001479.html">[fetchmail-devel] [PATCH] imap: introduce imapsearchmax	parameter
</A></li>
        <LI>Next message: <A HREF="001481.html">[fetchmail-devel] fetchmail fix coordination and future planning (was: [PATCH] imap: introduce imapsearchmax parameter)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1480">[ date ]</a>
              <a href="thread.html#1480">[ thread ]</a>
              <a href="subject.html#1480">[ subject ]</a>
              <a href="author.html#1480">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,


----- Original Message -----
&gt;<i> So, at the IMAP protocol level, we have run out of options.
</I>&gt;<i> 
</I>&gt;<i> I will check if the fetchmail parsing can be improved directly in 
</I>&gt;<i> fetchmail itself.
</I>
Attached are the patches which should solve this issue.

The first patch has nothing to do with this issue. It only removes excess calls to strlen().

The second patch works by sending a &quot;SEARCH UNSEEN&quot; command and reading the response in batches (when required).

Andrea, please test the patches for your mailbox.

Matthias, please evaluate the patches for incorporation in fetchmail.

-- 
Sunil Shetye.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Call-strlen-only-once-when-removing-CRLF-from-a-line.patch
Type: application/octet-stream
Size: 2914 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/fetchmail-devel/attachments/20110503/ad797343/attachment.obj">https://lists.berlios.de/pipermail/fetchmail-devel/attachments/20110503/ad797343/attachment.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0002-Do-not-search-for-UNSEEN-messages-in-ranges.patch
Type: application/octet-stream
Size: 9837 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/fetchmail-devel/attachments/20110503/ad797343/attachment-0001.obj">https://lists.berlios.de/pipermail/fetchmail-devel/attachments/20110503/ad797343/attachment-0001.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001479.html">[fetchmail-devel] [PATCH] imap: introduce imapsearchmax	parameter
</A></li>
	<LI>Next message: <A HREF="001481.html">[fetchmail-devel] fetchmail fix coordination and future planning (was: [PATCH] imap: introduce imapsearchmax parameter)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1480">[ date ]</a>
              <a href="thread.html#1480">[ thread ]</a>
              <a href="subject.html#1480">[ subject ]</a>
              <a href="author.html#1480">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/fetchmail-devel">More information about the fetchmail-devel
mailing list</a><br>
</body></html>
